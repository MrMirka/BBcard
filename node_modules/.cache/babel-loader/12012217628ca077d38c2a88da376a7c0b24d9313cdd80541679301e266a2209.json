{"ast":null,"code":"/* eslint-disable */import{AnimationMixer,Group,MeshPhysicalMaterial,Vector2}from'three';const processTexture=t=>{// t.wrapT = MirroredRepeatWrapping;\nt.flipY=false;// t.rotation = Math.PI;\n// t.offset.x = -1\n// t.minFilter = NearestFilter;\n// t.magFilter = LinearFilter;\n// t.wrapS = RepeatWrapping;\n// t.wrapT = RepeatWrapping;\nreturn t;};export const getModel=(model,map,normalMap)=>{processTexture(map);processTexture(normalMap);const material=new MeshPhysicalMaterial({// color: 'red',\n// bumpMap,\n// bumpScale: 1,\nmap,normalMap,normalScale:new Vector2(0.7,0.7),metalness:0.2,roughness:0.45,reflectivity:0.9,clearcoat:0// clearcoatRoughness: 1\n});const mixer=new AnimationMixer(model.scene);const clip=model.animations[0];const action=mixer.clipAction(clip).play();// this._action.loop = LoopOnce;\nmodel.scene.scale.setScalar(3.8);let top;model.scene.traverse(obj=>{if('isMesh'in obj){const object=obj;object.material=material;if(object.name.toLowerCase()==='top'){top=object;}}});const rotation=new Group();const animation=new Group();rotation.add(model.scene);animation.add(rotation);return{model,mixer,clip,action,top,rotation,animation};};","map":{"version":3,"names":["AnimationMixer","Group","MeshPhysicalMaterial","Vector2","processTexture","t","flipY","getModel","model","map","normalMap","material","normalScale","metalness","roughness","reflectivity","clearcoat","mixer","scene","clip","animations","action","clipAction","play","scale","setScalar","top","traverse","obj","object","name","toLowerCase","rotation","animation","add"],"sources":["/Users/fredgan/Documents/Projects/BetBoom/BBCard/src/CardBox/instance/models/model.ts"],"sourcesContent":["/* eslint-disable */\nimport {AnimationMixer, Group, Mesh, MeshPhysicalMaterial, Texture, Vector2} from 'three';\nimport {GLTF} from 'three/examples/jsm/loaders/GLTFLoader';\n\n\nconst processTexture = (t: Texture): Texture => {\n  // t.wrapT = MirroredRepeatWrapping;\n  t.flipY = false;\n  // t.rotation = Math.PI;\n  // t.offset.x = -1\n\n  // t.minFilter = NearestFilter;\n  // t.magFilter = LinearFilter;\n  // t.wrapS = RepeatWrapping;\n  // t.wrapT = RepeatWrapping;\n  return t;\n}\n\nexport const getModel = (model: GLTF, map: Texture, normalMap: Texture) => {\n  processTexture(map);\n  processTexture(normalMap);\n\n  const material = new MeshPhysicalMaterial({\n    // color: 'red',\n    // bumpMap,\n    // bumpScale: 1,\n    map,\n    normalMap,\n    normalScale: new Vector2(0.7, 0.7),\n    metalness: 0.2,\n    roughness: 0.45,\n    reflectivity: 0.9,\n    clearcoat: 0,\n    // clearcoatRoughness: 1\n  });\n\n  const mixer = new AnimationMixer(model.scene);\n\n  const clip = model.animations[0];\n  const action = mixer.clipAction(clip).play();\n  // this._action.loop = LoopOnce;\n\n  model.scene.scale.setScalar(3.8);\n\n  let top: Mesh | undefined;\n  model.scene.traverse((obj) => {\n    if ('isMesh' in obj) {\n      const object = obj as Mesh;\n      object.material = material;\n      if (object.name.toLowerCase() === 'top') {\n        top = object;\n      }\n    }\n  });\n\n\n  const rotation = new Group();\n  const animation = new Group();\n  rotation.add(model.scene);\n  animation.add(rotation);\n\n  return {\n    model,\n    mixer,\n    clip,\n    action,\n    top,\n    rotation,\n    animation\n  }\n}"],"mappings":"AAAA,oBACA,OAAQA,cAAc,CAAEC,KAAK,CAAQC,oBAAoB,CAAWC,OAAO,KAAO,OAAO,CAIzF,KAAM,CAAAC,cAAc,CAAIC,CAAU,EAAc,CAC9C;AACAA,CAAC,CAACC,KAAK,CAAG,KAAK,CACf;AACA;AAEA;AACA;AACA;AACA;AACA,MAAO,CAAAD,CAAC,CACV,CAAC,CAED,MAAO,MAAM,CAAAE,QAAQ,CAAGA,CAACC,KAAW,CAAEC,GAAY,CAAEC,SAAkB,GAAK,CACzEN,cAAc,CAACK,GAAG,CAAC,CACnBL,cAAc,CAACM,SAAS,CAAC,CAEzB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAT,oBAAoB,CAAC,CACxC;AACA;AACA;AACAO,GAAG,CACHC,SAAS,CACTE,WAAW,CAAE,GAAI,CAAAT,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAClCU,SAAS,CAAE,GAAG,CACdC,SAAS,CAAE,IAAI,CACfC,YAAY,CAAE,GAAG,CACjBC,SAAS,CAAE,CACX;AACF,CAAC,CAAC,CAEF,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAjB,cAAc,CAACQ,KAAK,CAACU,KAAK,CAAC,CAE7C,KAAM,CAAAC,IAAI,CAAGX,KAAK,CAACY,UAAU,CAAC,CAAC,CAAC,CAChC,KAAM,CAAAC,MAAM,CAAGJ,KAAK,CAACK,UAAU,CAACH,IAAI,CAAC,CAACI,IAAI,CAAC,CAAC,CAC5C;AAEAf,KAAK,CAACU,KAAK,CAACM,KAAK,CAACC,SAAS,CAAC,GAAG,CAAC,CAEhC,GAAI,CAAAC,GAAqB,CACzBlB,KAAK,CAACU,KAAK,CAACS,QAAQ,CAAEC,GAAG,EAAK,CAC5B,GAAI,QAAQ,EAAI,CAAAA,GAAG,CAAE,CACnB,KAAM,CAAAC,MAAM,CAAGD,GAAW,CAC1BC,MAAM,CAAClB,QAAQ,CAAGA,QAAQ,CAC1B,GAAIkB,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,GAAK,KAAK,CAAE,CACvCL,GAAG,CAAGG,MAAM,CACd,CACF,CACF,CAAC,CAAC,CAGF,KAAM,CAAAG,QAAQ,CAAG,GAAI,CAAA/B,KAAK,CAAC,CAAC,CAC5B,KAAM,CAAAgC,SAAS,CAAG,GAAI,CAAAhC,KAAK,CAAC,CAAC,CAC7B+B,QAAQ,CAACE,GAAG,CAAC1B,KAAK,CAACU,KAAK,CAAC,CACzBe,SAAS,CAACC,GAAG,CAACF,QAAQ,CAAC,CAEvB,MAAO,CACLxB,KAAK,CACLS,KAAK,CACLE,IAAI,CACJE,MAAM,CACNK,GAAG,CACHM,QAAQ,CACRC,SACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}